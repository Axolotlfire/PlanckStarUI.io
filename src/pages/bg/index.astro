---
import Layout from "../../layouts/Layout.astro";
---

<Layout>
  <div
    id="dot-grid"
    class="relative w-full h-screen overflow-hidden bg-gray-950"
  >
  </div>

  <script>
    const container = document.getElementById("dot-grid");
    const dotNumber = 35;
    const dotSize = 2;

    function createGrid() {
      container.innerHTML = "";

      const width = container.clientWidth;
      const height = container.clientHeight;

      // Usamos solo spacingX (en función del ancho)
      const spacing = Math.max(dotNumber, Math.floor(width / dotNumber));

      const cols = Math.ceil(width / spacing);
      const rows = Math.ceil(height / spacing);

      for (let i = 0; i <= cols; i++) {
        for (let j = 0; j <= rows; j++) {
          const dot = document.createElement("div");
          dot.className = `absolute bg-white/40 rounded-full`;
          dot.style.width = `${dotSize}px`;
          dot.style.height = `${dotSize}px`;

          // Cuadrícula perfecta
          dot.style.left = `${Math.min(i * spacing, width - dotSize)}px`;
          dot.style.top = `${Math.min(j * spacing, height - dotSize)}px`;

          container.appendChild(dot);
        }
      }
    }

    createGrid();
    window.addEventListener("resize", () => createGrid());
  </script>
</Layout>
